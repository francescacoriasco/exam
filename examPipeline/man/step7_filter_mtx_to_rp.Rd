% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/step7_filter_mtx_to_rp.R
\name{step7_filter_mtx_to_rp}
\alias{step7_filter_mtx_to_rp}
\title{Step 7 â€” Filter Step 5 combined scRNA MTX to RP-only features}
\usage{
step7_filter_mtx_to_rp(
  in_dir,
  rp_ids_rds,
  out_dir,
  ensembl_fraction_threshold = 0.5,
  verbose = TRUE
)
}
\arguments{
\item{in_dir}{Input directory containing the MTX bundle (from Step 5).}

\item{rp_ids_rds}{Path to RP gene_id RDS (from Step 6).}

\item{out_dir}{Output directory for RP-only MTX bundle.}

\item{ensembl_fraction_threshold}{If fraction of IDs matching \code{^ENSG} is > threshold, treat as Ensembl IDs.}

\item{verbose}{If TRUE, prints summary.}
}
\value{
Invisible list with \code{out_dir}, \code{dims}, \code{kept_features}.
}
\description{
Loads a 10x-like MTX bundle (\code{matrix.mtx}, \code{features.tsv}, \code{barcodes.tsv})
and keeps only RP features using the RP Ensembl \code{gene_id} list from Step 6
(or falls back to \code{startsWith("RP")} if features are symbols).
Supports gz inputs (\code{.gz}) for convenience.
}
